"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base64StringGenerator=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),fcc=String.fromCharCode,_k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64StringGenerator={compressToUTF16:_regenerator.default.mark(function compressToUTF16(input){var o,i,c,cr,st;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return o=[],st=0,_context.delegateYield(this.compress(input),"t0",2);case 2:input=_context.t0,i=0;case 4:if(!(i<input.length)){_context.next=61;break}if(0!=(511&i)){_context.next=8;break}return void(_context.next=8);case 8:c=input.charCodeAt(i),_context.t1=st++,_context.next=0===_context.t1?12:1===_context.t1?15:2===_context.t1?18:3===_context.t1?21:4===_context.t1?24:5===_context.t1?27:6===_context.t1?30:7===_context.t1?33:8===_context.t1?36:9===_context.t1?39:10===_context.t1?42:11===_context.t1?45:12===_context.t1?48:13===_context.t1?51:14===_context.t1?54:57;break;case 12:return o.push(fcc((c>>1)+32)),cr=(1&c)<<14,_context.abrupt("break",58);case 15:return o.push(fcc(cr+(c>>2)+32)),cr=(3&c)<<13,_context.abrupt("break",58);case 18:return o.push(fcc(cr+(c>>3)+32)),cr=(7&c)<<12,_context.abrupt("break",58);case 21:return o.push(fcc(cr+(c>>4)+32)),cr=(15&c)<<11,_context.abrupt("break",58);case 24:return o.push(fcc(cr+(c>>5)+32)),cr=(31&c)<<10,_context.abrupt("break",58);case 27:return o.push(fcc(cr+(c>>6)+32)),cr=(63&c)<<9,_context.abrupt("break",58);case 30:return o.push(fcc(cr+(c>>7)+32)),cr=(127&c)<<8,_context.abrupt("break",58);case 33:return o.push(fcc(cr+(c>>8)+32)),cr=(255&c)<<7,_context.abrupt("break",58);case 36:return o.push(fcc(cr+(c>>9)+32)),cr=(511&c)<<6,_context.abrupt("break",58);case 39:return o.push(fcc(cr+(c>>10)+32)),cr=(1023&c)<<5,_context.abrupt("break",58);case 42:return o.push(fcc(cr+(c>>11)+32)),cr=(2047&c)<<4,_context.abrupt("break",58);case 45:return o.push(fcc(cr+(c>>12)+32)),cr=(4095&c)<<3,_context.abrupt("break",58);case 48:return o.push(fcc(cr+(c>>13)+32)),cr=(8191&c)<<2,_context.abrupt("break",58);case 51:return o.push(fcc(cr+(c>>14)+32)),cr=(16383&c)<<1,_context.abrupt("break",58);case 54:return o.push(fcc(cr+(c>>15)+32,(32767&c)+32)),st=0,_context.abrupt("break",58);case 57:return _context.abrupt("break",58);case 58:i++,_context.next=4;break;case 61:return o.push(fcc(cr+32)),_context.abrupt("return",o.join(""));case 63:case"end":return _context.stop();}},compressToUTF16,this)}),decompressFromUTF16:_regenerator.default.mark(function decompressFromUTF16(input){var o,cr,c,s,i;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:o=[],s=0,i=0;case 1:if(!(i<input.length)){_context2.next=60;break}if(0!==(i&&511)){_context2.next=5;break}return void(_context2.next=5);case 5:c=input.charCodeAt(i)-32,_context2.t0=s++,_context2.next=0===_context2.t0?9:1===_context2.t0?11:2===_context2.t0?14:3===_context2.t0?17:4===_context2.t0?20:5===_context2.t0?23:6===_context2.t0?26:7===_context2.t0?29:8===_context2.t0?32:9===_context2.t0?35:10===_context2.t0?38:11===_context2.t0?41:12===_context2.t0?44:13===_context2.t0?47:14===_context2.t0?50:15===_context2.t0?53:56;break;case 9:return cr=c<<1,_context2.abrupt("break",57);case 11:return o.push(fcc(cr|c>>14)),cr=(16383&c)<<2,_context2.abrupt("break",57);case 14:return o.push(fcc(cr|c>>13)),cr=(8191&c)<<3,_context2.abrupt("break",57);case 17:return o.push(fcc(cr|c>>12)),cr=(4095&c)<<4,_context2.abrupt("break",57);case 20:return o.push(fcc(cr|c>>11)),cr=(2047&c)<<5,_context2.abrupt("break",57);case 23:return o.push(fcc(cr|c>>10)),cr=(1023&c)<<6,_context2.abrupt("break",57);case 26:return o.push(fcc(cr|c>>9)),cr=(511&c)<<7,_context2.abrupt("break",57);case 29:return o.push(fcc(cr|c>>8)),cr=(255&c)<<8,_context2.abrupt("break",57);case 32:return o.push(fcc(cr|c>>7)),cr=(127&c)<<9,_context2.abrupt("break",57);case 35:return o.push(fcc(cr|c>>6)),cr=(63&c)<<10,_context2.abrupt("break",57);case 38:return o.push(fcc(cr|c>>5)),cr=(31&c)<<11,_context2.abrupt("break",57);case 41:return o.push(fcc(cr|c>>4)),cr=(15&c)<<12,_context2.abrupt("break",57);case 44:return o.push(fcc(cr|c>>3)),cr=(7&c)<<13,_context2.abrupt("break",57);case 47:return o.push(fcc(cr|c>>2)),cr=(3&c)<<14,_context2.abrupt("break",57);case 50:return o.push(fcc(cr|c>>1)),cr=(1&c)<<15,_context2.abrupt("break",57);case 53:return o.push(fcc(cr|c)),s=0,_context2.abrupt("break",57);case 56:return _context2.abrupt("break",57);case 57:i++,_context2.next=1;break;case 60:return _context2.delegateYield(this.decompress(o.join("")),"t1",61);case 61:return _context2.abrupt("return",_context2.t1);case 62:case"end":return _context2.stop();}},decompressFromUTF16,this)}),decompress:_regenerator.default.mark(function decompress(input){var o,chr1,chr2,chr3,enc1,enc2,enc3,enc4,i,odd,ii;return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:o=[],i=1,odd=input.charCodeAt(0)>>8,ii=0;case 4:if(!(i<2*input.length&&(i<2*input.length-1||0===odd))){_context3.next=21;break}if(0!=(511&ii++)){_context3.next=8;break}return void(_context3.next=8);case 8:0==i%2?(chr1=input.charCodeAt(i/2)>>8,chr2=255&input.charCodeAt(i/2),chr3=i/2+1<input.length?input.charCodeAt(i/2+1)>>8:NaN):(chr1=255&input.charCodeAt((i-1)/2),(i+1)/2<input.length?(chr2=input.charCodeAt((i+1)/2)>>8,chr3=255&input.charCodeAt((i+1)/2)):chr2=chr3=NaN),i+=3,enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=(15&chr2)<<2|chr3>>6,enc4=63&chr3,isNaN(chr2)||i===2*input.length+1&&odd?enc3=enc4=64:(isNaN(chr3)||i===2*input.length&&odd)&&(enc4=64),o.push(_k.charAt(enc1)),o.push(_k.charAt(enc2)),o.push(_k.charAt(enc3)),o.push(_k.charAt(enc4)),_context3.next=4;break;case 21:return _context3.abrupt("return",o.join(""));case 22:case"end":return _context3.stop();}},decompress)}),compress:_regenerator.default.mark(function compress(input){var o,ol,output_,chr1,chr2,chr3,enc1,enc2,enc3,enc4,i,flush;return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:o=[],ol=1,i=0,flush=!1,input=input.replace(/[^A-Za-z0-9+/=]/g,"");case 2:if(!(i<input.length)){_context4.next=17;break}if(0!==(i&&1023)){_context4.next=6;break}return void(_context4.next=6);case 6:enc1=_k.indexOf(input.charAt(i++)),enc2=_k.indexOf(input.charAt(i++)),enc3=_k.indexOf(input.charAt(i++)),enc4=_k.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(15&enc2)<<4|enc3>>2,chr3=(3&enc3)<<6|enc4,0==ol%2?(output_=chr1<<8,flush=!0,64!==enc3&&(o.push(fcc(output_|chr2)),flush=!1),64!==enc4&&(output_=chr3<<8,flush=!0)):(o.push(fcc(output_|chr1)),flush=!1,64!==enc3&&(output_=chr2<<8,flush=!0),64!==enc4&&(o.push(fcc(output_|chr3)),flush=!1)),ol+=3,_context4.next=2;break;case 17:return void(_context4.next=19);case 19:return flush?(o.push(fcc(output_)),o=o.join(""),o=fcc(256|o.charCodeAt(0))+o.substring(1)):o=o.join(""),_context4.abrupt("return",o);case 21:case"end":return _context4.stop();}},compress)})};exports.Base64StringGenerator=Base64StringGenerator;