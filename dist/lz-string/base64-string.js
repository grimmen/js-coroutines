"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base64StringGenerator=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),fcc=String.fromCharCode,_k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64StringGenerator={compressToUTF16:_regenerator.default.mark(function compressToUTF16(a){var b,d,e,f,g;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return b=[],g=0,c.delegateYield(this.compress(a),"t0",2);case 2:a=c.t0,d=0;case 4:if(!(d<a.length)){c.next=61;break}if(0!=(511&d)){c.next=8;break}return void(c.next=8);case 8:e=a.charCodeAt(d),c.t1=g++,c.next=0===c.t1?12:1===c.t1?15:2===c.t1?18:3===c.t1?21:4===c.t1?24:5===c.t1?27:6===c.t1?30:7===c.t1?33:8===c.t1?36:9===c.t1?39:10===c.t1?42:11===c.t1?45:12===c.t1?48:13===c.t1?51:14===c.t1?54:57;break;case 12:return b.push(fcc((e>>1)+32)),f=(1&e)<<14,c.abrupt("break",58);case 15:return b.push(fcc(f+(e>>2)+32)),f=(3&e)<<13,c.abrupt("break",58);case 18:return b.push(fcc(f+(e>>3)+32)),f=(7&e)<<12,c.abrupt("break",58);case 21:return b.push(fcc(f+(e>>4)+32)),f=(15&e)<<11,c.abrupt("break",58);case 24:return b.push(fcc(f+(e>>5)+32)),f=(31&e)<<10,c.abrupt("break",58);case 27:return b.push(fcc(f+(e>>6)+32)),f=(63&e)<<9,c.abrupt("break",58);case 30:return b.push(fcc(f+(e>>7)+32)),f=(127&e)<<8,c.abrupt("break",58);case 33:return b.push(fcc(f+(e>>8)+32)),f=(255&e)<<7,c.abrupt("break",58);case 36:return b.push(fcc(f+(e>>9)+32)),f=(511&e)<<6,c.abrupt("break",58);case 39:return b.push(fcc(f+(e>>10)+32)),f=(1023&e)<<5,c.abrupt("break",58);case 42:return b.push(fcc(f+(e>>11)+32)),f=(2047&e)<<4,c.abrupt("break",58);case 45:return b.push(fcc(f+(e>>12)+32)),f=(4095&e)<<3,c.abrupt("break",58);case 48:return b.push(fcc(f+(e>>13)+32)),f=(8191&e)<<2,c.abrupt("break",58);case 51:return b.push(fcc(f+(e>>14)+32)),f=(16383&e)<<1,c.abrupt("break",58);case 54:return b.push(fcc(f+(e>>15)+32,(32767&e)+32)),g=0,c.abrupt("break",58);case 57:return c.abrupt("break",58);case 58:d++,c.next=4;break;case 61:return b.push(fcc(f+32)),c.abrupt("return",b.join(""));case 63:case"end":return c.stop();}},compressToUTF16,this)}),decompressFromUTF16:_regenerator.default.mark(function decompressFromUTF16(a){var b,d,e,f,g;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=[],f=0,g=0;case 1:if(!(g<a.length)){c.next=60;break}if(0!==(g&&511)){c.next=5;break}return void(c.next=5);case 5:e=a.charCodeAt(g)-32,c.t0=f++,c.next=0===c.t0?9:1===c.t0?11:2===c.t0?14:3===c.t0?17:4===c.t0?20:5===c.t0?23:6===c.t0?26:7===c.t0?29:8===c.t0?32:9===c.t0?35:10===c.t0?38:11===c.t0?41:12===c.t0?44:13===c.t0?47:14===c.t0?50:15===c.t0?53:56;break;case 9:return d=e<<1,c.abrupt("break",57);case 11:return b.push(fcc(d|e>>14)),d=(16383&e)<<2,c.abrupt("break",57);case 14:return b.push(fcc(d|e>>13)),d=(8191&e)<<3,c.abrupt("break",57);case 17:return b.push(fcc(d|e>>12)),d=(4095&e)<<4,c.abrupt("break",57);case 20:return b.push(fcc(d|e>>11)),d=(2047&e)<<5,c.abrupt("break",57);case 23:return b.push(fcc(d|e>>10)),d=(1023&e)<<6,c.abrupt("break",57);case 26:return b.push(fcc(d|e>>9)),d=(511&e)<<7,c.abrupt("break",57);case 29:return b.push(fcc(d|e>>8)),d=(255&e)<<8,c.abrupt("break",57);case 32:return b.push(fcc(d|e>>7)),d=(127&e)<<9,c.abrupt("break",57);case 35:return b.push(fcc(d|e>>6)),d=(63&e)<<10,c.abrupt("break",57);case 38:return b.push(fcc(d|e>>5)),d=(31&e)<<11,c.abrupt("break",57);case 41:return b.push(fcc(d|e>>4)),d=(15&e)<<12,c.abrupt("break",57);case 44:return b.push(fcc(d|e>>3)),d=(7&e)<<13,c.abrupt("break",57);case 47:return b.push(fcc(d|e>>2)),d=(3&e)<<14,c.abrupt("break",57);case 50:return b.push(fcc(d|e>>1)),d=(1&e)<<15,c.abrupt("break",57);case 53:return b.push(fcc(d|e)),f=0,c.abrupt("break",57);case 56:return c.abrupt("break",57);case 57:g++,c.next=1;break;case 60:return c.delegateYield(this.decompress(b.join("")),"t1",61);case 61:return c.abrupt("return",c.t1);case 62:case"end":return c.stop();}},decompressFromUTF16,this)}),decompress:_regenerator.default.mark(function decompress(a){var b,c,d,e,f,g,h,j,k,l,m;return _regenerator.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:b=[],k=1,l=a.charCodeAt(0)>>8,m=0;case 4:if(!(k<2*a.length&&(k<2*a.length-1||0===l))){i.next=21;break}if(0!=(511&m++)){i.next=8;break}return void(i.next=8);case 8:0==k%2?(c=a.charCodeAt(k/2)>>8,d=255&a.charCodeAt(k/2),e=k/2+1<a.length?a.charCodeAt(k/2+1)>>8:NaN):(c=255&a.charCodeAt((k-1)/2),(k+1)/2<a.length?(d=a.charCodeAt((k+1)/2)>>8,e=255&a.charCodeAt((k+1)/2)):d=e=NaN),k+=3,f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,j=63&e,isNaN(d)||k===2*a.length+1&&l?h=j=64:(isNaN(e)||k===2*a.length&&l)&&(j=64),b.push(_k.charAt(f)),b.push(_k.charAt(g)),b.push(_k.charAt(h)),b.push(_k.charAt(j)),i.next=4;break;case 21:return i.abrupt("return",b.join(""));case 22:case"end":return i.stop();}},decompress)}),compress:_regenerator.default.mark(function compress(a){var b,c,d,e,f,g,h,j,k,l,m,n;return _regenerator.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:b=[],c=1,m=0,n=!1,a=a.replace(/[^A-Za-z0-9+/=]/g,"");case 2:if(!(m<a.length)){i.next=17;break}if(0!==(m&&1023)){i.next=6;break}return void(i.next=6);case 6:h=_k.indexOf(a.charAt(m++)),j=_k.indexOf(a.charAt(m++)),k=_k.indexOf(a.charAt(m++)),l=_k.indexOf(a.charAt(m++)),e=h<<2|j>>4,f=(15&j)<<4|k>>2,g=(3&k)<<6|l,0==c%2?(d=e<<8,n=!0,64!==k&&(b.push(fcc(d|f)),n=!1),64!==l&&(d=g<<8,n=!0)):(b.push(fcc(d|e)),n=!1,64!==k&&(d=f<<8,n=!0),64!==l&&(b.push(fcc(d|g)),n=!1)),c+=3,i.next=2;break;case 17:return void(i.next=19);case 19:return n?(b.push(fcc(d)),b=b.join(""),b=fcc(256|b.charCodeAt(0))+b.substring(1)):b=b.join(""),i.abrupt("return",b);case 21:case"end":return i.stop();}},compress)})};exports.Base64StringGenerator=Base64StringGenerator;