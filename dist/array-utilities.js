"use strict";var _regeneratorRuntime2=require("@babel/runtime/regenerator"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.exitWith=exitWith,exports.forEach=forEach,exports.filter=filter,exports.reduce=reduce,exports.concat=concat,exports.append=append,exports.map=map,exports.find=find,exports.findIndex=findIndex,exports.some=some,exports.every=every,exports.includes=includes,exports.indexOf=indexOf,exports.lastIndexOf=lastIndexOf,exports.keyBy=keyBy,exports.groupBy=groupBy,exports.uniqueBy=uniqueBy;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_wrappers=require("./wrappers");function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _marked=_regeneratorRuntime2.mark(forEach),_marked2=_regeneratorRuntime2.mark(filter),_marked3=_regeneratorRuntime2.mark(reduce),_marked4=_regeneratorRuntime2.mark(concat),_marked5=_regeneratorRuntime2.mark(append),_marked6=_regeneratorRuntime2.mark(map),_marked7=_regeneratorRuntime2.mark(find),_marked8=_regeneratorRuntime2.mark(findIndex),_marked9=_regeneratorRuntime2.mark(some),_marked10=_regeneratorRuntime2.mark(every),_marked11=_regeneratorRuntime2.mark(includes),_marked12=_regeneratorRuntime2.mark(indexOf),_marked13=_regeneratorRuntime2.mark(lastIndexOf),_marked14=_regeneratorRuntime2.mark(keyBy),_marked15=_regeneratorRuntime2.mark(groupBy),_marked16=_regeneratorRuntime2.mark(uniqueBy);function isObject(v){return"object"===(0,_typeof2.default)(v)&&!Array.isArray(v)}var doReturn=Symbol("return");function exitWith(value){var _ref;return _ref={},(0,_defineProperty2.default)(_ref,doReturn,!0),(0,_defineProperty2.default)(_ref,"value",value),_ref}function forEach(collection,fn,start){var started,key,result,index,length,_result;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!isObject(collection)){_context.next=16;break}started=!start,_context.t0=_regenerator.default.keys(collection);case 3:if((_context.t1=_context.t0()).done){_context.next=14;break}if(key=_context.t1.value,started||(started=key===start),!started){_context.next=12;break}if(!Object.prototype.hasOwnProperty.call(collection,key)){_context.next=12;break}return _context.delegateYield(fn(collection[key],key,collection),"t2",9);case 9:if(result=_context.t2,!(result&&result[doReturn])){_context.next=12;break}return _context.abrupt("return",result.value);case 12:_context.next=3;break;case 14:_context.next=25;break;case 16:index=start||0,length=collection.length;case 17:if(!(index<length)){_context.next=25;break}return _context.delegateYield(fn(collection[index],index,collection),"t3",19);case 19:if(_result=_context.t3,!(_result&&_result[doReturn])){_context.next=22;break}return _context.abrupt("return",_result.value);case 22:index++,_context.next=17;break;case 25:case"end":return _context.stop();}},_marked)}function filter(collection,fn){var result,_result2;return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!isObject(collection)){_context4.next=6;break}return result={},_context4.delegateYield(forEach(collection,_regenerator.default.mark(function _callee(value,key,array){return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(fn(value,key,array),"t0",1);case 1:if(!_context2.t0){_context2.next=3;break}result[key]=value;case 3:case"end":return _context2.stop();}},_callee)})),"t0",3);case 3:return _context4.abrupt("return",result);case 6:return _result2=[],_context4.delegateYield(forEach(collection,_regenerator.default.mark(function _callee2(value,key,array){return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.delegateYield(fn(value,key,array),"t0",1);case 1:if(!_context3.t0){_context3.next=3;break}_result2.push(value);case 3:case"end":return _context3.stop();}},_callee2)})),"t1",8);case 8:return _context4.abrupt("return",_result2);case 9:case"end":return _context4.stop();}},_marked2)}function reduce(target,fn,initial){var result,first;return _regenerator.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return result=void 0===initial?target[0]:initial,first=!0,_context6.delegateYield(forEach(target,_regenerator.default.mark(function _callee3(item,key){return _regenerator.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!first||initial){_context5.next=5;break}result=item,first=!1,_context5.next=7;break;case 5:return _context5.delegateYield(fn(result,item,key,target),"t0",6);case 6:result=_context5.t0;case 7:case"end":return _context5.stop();}},_callee3)})),"t0",3);case 3:return _context6.abrupt("return",result);case 4:case"end":return _context6.stop();}},_marked3)}function concat(array1,array2){var result,l;return _regenerator.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,!0;case 2:return result=Array(array1.length+array2.length),void(_context7.next=5);case 5:return l=array1.length,_context7.delegateYield(forEach(array1,(0,_wrappers.yielding)(function(a,i){return result[i]=a})),"t0",7);case 7:return _context7.delegateYield(forEach(array2,(0,_wrappers.yielding)(function(a,i){return result[i+l]=a})),"t1",8);case 8:return _context7.abrupt("return",result);case 9:case"end":return _context7.stop();}},_marked4)}function append(array1,array2){var l;return _regenerator.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return l=array1.length,_context8.next=3,!0;case 3:return array1.length+=array2.length,void(_context8.next=6);case 6:return _context8.delegateYield(forEach(array2,(0,_wrappers.yielding)(function(a,i){return array1[i+l]=a})),"t0",7);case 7:return _context8.abrupt("return",array1);case 8:case"end":return _context8.stop();}},_marked5)}function map(collection,fn){var result;return _regenerator.default.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return result=isObject(collection)?{}:[],_context10.delegateYield(forEach(collection,_regenerator.default.mark(function _callee4(value,key){return _regenerator.default.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.delegateYield(fn(value,key,collection),"t0",1);case 1:result[key]=_context9.t0;case 2:case"end":return _context9.stop();}},_callee4)})),"t0",2);case 2:return _context10.abrupt("return",result);case 3:case"end":return _context10.stop();}},_marked6)}function find(collection,fn,start){var output;return _regenerator.default.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return output=void 0,_context12.delegateYield(forEach(collection,_regenerator.default.mark(function _callee5(value,key){var result;return _regenerator.default.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.delegateYield(fn(value,key,collection),"t0",1);case 1:if(result=_context11.t0,!result){_context11.next=5;break}return output=value,_context11.abrupt("return",exitWith(value));case 5:case"end":return _context11.stop();}},_callee5)}),start),"t0",2);case 2:return _context12.abrupt("return",output);case 3:case"end":return _context12.stop();}},_marked7)}function findIndex(collection,fn,start){var output;return _regenerator.default.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return output=-1,_context14.delegateYield(forEach(collection,_regenerator.default.mark(function _callee6(value,key){var result;return _regenerator.default.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.delegateYield(fn(value,key,collection),"t0",1);case 1:if(result=_context13.t0,!result){_context13.next=5;break}return output=key,_context13.abrupt("return",exitWith(key));case 5:case"end":return _context13.stop();}},_callee6)}),start),"t0",2);case 2:return _context14.abrupt("return",output);case 3:case"end":return _context14.stop();}},_marked8)}function some(collection,fn){var result;return _regenerator.default.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return result=!1,_context16.delegateYield(forEach(collection,_regenerator.default.mark(function _callee7(value,key){return _regenerator.default.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.delegateYield(fn(value,key,collection),"t0",1);case 1:if(!_context15.t0){_context15.next=4;break}return result=!0,_context15.abrupt("return",exitWith(!0));case 4:case"end":return _context15.stop();}},_callee7)})),"t0",2);case 2:return _context16.abrupt("return",result);case 3:case"end":return _context16.stop();}},_marked9)}function every(collection,fn){var result;return _regenerator.default.wrap(function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return result=!0,_context18.delegateYield(forEach(collection,_regenerator.default.mark(function _callee8(value,key){return _regenerator.default.wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.delegateYield(fn(value,key,collection),"t0",1);case 1:if(_context17.t0){_context17.next=4;break}return result=!1,_context17.abrupt("return",exitWith(!1));case 4:case"end":return _context17.stop();}},_callee8)})),"t0",2);case 2:return _context18.abrupt("return",result);case 3:case"end":return _context18.stop();}},_marked10)}function includes(array,value){var i,l;return _regenerator.default.wrap(function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:i=0,l=array.length;case 1:if(!(i<l)){_context19.next=10;break}if(array[i]!==value){_context19.next=4;break}return _context19.abrupt("return",!0);case 4:if(0!=(63&i)){_context19.next=7;break}return void(_context19.next=7);case 7:i++,_context19.next=1;break;case 10:return _context19.abrupt("return",!1);case 11:case"end":return _context19.stop();}},_marked11)}function indexOf(array,value){var i,l;return _regenerator.default.wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:i=0,l=array.length;case 1:if(!(i<l)){_context20.next=10;break}if(array[i]!==value){_context20.next=4;break}return _context20.abrupt("return",i);case 4:if(0!=(63&i)){_context20.next=7;break}return void(_context20.next=7);case 7:i++,_context20.next=1;break;case 10:return _context20.abrupt("return",-1);case 11:case"end":return _context20.stop();}},_marked12)}function lastIndexOf(array,value){var i;return _regenerator.default.wrap(function(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:i=array.length-1;case 1:if(!(0<=i)){_context21.next=10;break}if(array[i]!==value){_context21.next=4;break}return _context21.abrupt("return",i);case 4:if(0!=(63&i)){_context21.next=7;break}return void(_context21.next=7);case 7:i--,_context21.next=1;break;case 10:return _context21.abrupt("return",-1);case 11:case"end":return _context21.stop();}},_marked13)}function keyBy(collection,fn){var result;return _regenerator.default.wrap(function(_context23){for(;;)switch(_context23.prev=_context23.next){case 0:return result={},_context23.delegateYield(forEach(collection,_regenerator.default.mark(function _callee9(value,key){var newKey;return _regenerator.default.wrap(function(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:return _context22.delegateYield(fn(value,key,collection),"t0",1);case 1:newKey=_context22.t0,result[newKey]=value;case 3:case"end":return _context22.stop();}},_callee9)})),"t0",2);case 2:return _context23.abrupt("return",result);case 3:case"end":return _context23.stop();}},_marked14)}function groupBy(collection,fn){var result,index,_iterator,_step,item,key,array;return _regenerator.default.wrap(function(_context24){for(;;)switch(_context24.prev=_context24.next){case 0:result={},index=0,_iterator=_createForOfIteratorHelper(collection),_context24.prev=3,_iterator.s();case 5:if((_step=_iterator.n()).done){_context24.next=13;break}return item=_step.value,_context24.delegateYield(fn(item,index++,collection),"t0",8);case 8:key=_context24.t0,array=result[key]=result[key]||[],array.push(item);case 11:_context24.next=5;break;case 13:_context24.next=18;break;case 15:_context24.prev=15,_context24.t1=_context24["catch"](3),_iterator.e(_context24.t1);case 18:return _context24.prev=18,_iterator.f(),_context24.finish(18);case 21:return _context24.abrupt("return",result);case 22:case"end":return _context24.stop();}},_marked15,null,[[3,15,18,21]])}function uniqueBy(array,fn){var set,output,index,_iterator2,_step2,item,key;return _regenerator.default.wrap(function(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:set=new Set,output=[],index=0,_iterator2=_createForOfIteratorHelper(array),_context25.prev=4,_iterator2.s();case 6:if((_step2=_iterator2.n()).done){_context25.next=17;break}if(item=_step2.value,!fn){_context25.next=14;break}return _context25.delegateYield(fn(item,index++,array),"t0",10);case 10:key=_context25.t0,set.has(key)||(output.push(item),set.add(key)),_context25.next=15;break;case 14:set.has(item)||(output.push(item),set.add(item));case 15:_context25.next=6;break;case 17:_context25.next=22;break;case 19:_context25.prev=19,_context25.t1=_context25["catch"](4),_iterator2.e(_context25.t1);case 22:return _context25.prev=22,_iterator2.f(),_context25.finish(22);case 25:return _context25.abrupt("return",output);case 26:case"end":return _context25.stop();}},_marked16,null,[[4,19,22,25]])}