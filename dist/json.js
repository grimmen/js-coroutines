"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.stringify=stringify;var gap,indent,meta,_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_marked=_regenerator.default.mark(quote),_marked2=_regenerator.default.mark(str),_marked3=_regenerator.default.mark(stringify),rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,yieldCount=0;function yielder(){return yieldCount++,!!(256<yieldCount)&&(yieldCount=0,!0)}function quote(string){var result,i,l,c,r;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:result=["\""],i=0,l=string.length;case 2:if(!(i<l)){_context.next=11;break}if(!(0==(7&i)&&yielder())){_context.next=6;break}return void(_context.next=6);case 6:c=string[i],"\""===c||rx_escapable.test(c)?(r=meta[c],"string"==typeof r?result.push(r):result.push("\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4))):!rx_dangerous.test(c)&&result.push(c);case 8:i++,_context.next=2;break;case 11:return result.push("\""),_context.abrupt("return",result.join(""));case 13:case"end":return _context.stop();}},_marked)}function str(key,holder,ctrl){var rep,i,k,v,length,mind,partial,value;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(rep=ctrl.rep,!yielder()){_context2.next=4;break}return void(_context2.next=4);case 4:mind=gap,value=holder[key],value&&"object"===(0,_typeof2.default)(value)&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),_context2.t0=(0,_typeof2.default)(value),_context2.next="string"===_context2.t0?11:"number"===_context2.t0?13:"boolean"===_context2.t0?14:"null"===_context2.t0?14:15;break;case 11:return _context2.delegateYield(quote(value),"t1",12);case 12:return _context2.abrupt("return",_context2.t1);case 13:return _context2.abrupt("return",isFinite(value)?value+"":"null");case 14:return _context2.abrupt("return",value+"");case 15:if(value){_context2.next=17;break}return _context2.abrupt("return","null");case 17:if(gap+=indent,partial=[],"[object Array]"!==Object.prototype.toString.apply(value)){_context2.next=34;break}length=value.length,v="[",i=0;case 23:if(!(i<length)){_context2.next=33;break}return _context2.t2=v,_context2.delegateYield(str(i,value,ctrl)||"null","t3",26);case 26:_context2.t4=_context2.t3,_context2.t5=_context2.t2+_context2.t4,_context2.t6=i===length-1?"":",",v=_context2.t5+_context2.t6;case 30:i+=1,_context2.next=23;break;case 33:return _context2.abrupt("return",v+"]");case 34:_context2.t7=_regenerator.default.keys(value);case 35:if((_context2.t8=_context2.t7()).done){_context2.next=51;break}if(k=_context2.t8.value,!Object.prototype.hasOwnProperty.call(value,k)){_context2.next=49;break}return _context2.delegateYield(str(k,value,ctrl),"t9",39);case 39:if(v=_context2.t9,!v){_context2.next=49;break}return _context2.t10=partial,_context2.delegateYield(quote(k),"t11",43);case 43:_context2.t12=_context2.t11,_context2.t13=gap?": ":":",_context2.t14=_context2.t12+_context2.t13,_context2.t15=v,_context2.t16=_context2.t14+_context2.t15,_context2.t10.push.call(_context2.t10,_context2.t16);case 49:_context2.next=35;break;case 51:return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,_context2.abrupt("return",v);case 54:case"end":return _context2.stop();}},_marked2)}meta={"":"\\b","	":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"};function stringify(value,replacer){return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(gap="",indent="",!(replacer&&"function"!=typeof replacer&&("object"!==(0,_typeof2.default)(replacer)||"number"!=typeof replacer.length))){_context3.next=4;break}throw new Error("JSON.stringify");case 4:return _context3.delegateYield(str("",{"":value},{rep:replacer}),"t0",5);case 5:return _context3.abrupt("return",_context3.t0);case 6:case"end":return _context3.stop();}},_marked3)}